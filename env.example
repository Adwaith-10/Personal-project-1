# Food Vision Pro Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# APP SETTINGS
# =============================================================================
APP_NAME=Food Vision Pro
APP_VERSION=1.0.0
DEBUG=true

# =============================================================================
# SECURITY
# =============================================================================
# Generate a strong random secret: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# DATABASE
# =============================================================================
# PostgreSQL connection string
DATABASE_URL=postgresql://postgres:password@localhost:5432/foodvision

# =============================================================================
# REDIS
# =============================================================================
REDIS_URL=redis://localhost:6379

# =============================================================================
# STORAGE
# =============================================================================
# Storage type: local, s3, minio
STORAGE_TYPE=local

# Local storage path (relative to backend directory)
LOCAL_STORAGE_PATH=./uploads

# S3/MinIO settings (only needed if STORAGE_TYPE is s3 or minio)
S3_BUCKET=foodvision-images
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin123
S3_ENDPOINT_URL=http://localhost:9000

# =============================================================================
# EXTERNAL APIs
# =============================================================================
# USDA FoodData Central API key (optional)
# Get from: https://fdc.nal.usda.gov/api-key-signup.html
USDA_FDC_API_KEY=

# Open Food Facts base URL
OPENFOODFACTS_BASE_URL=https://world.openfoodfacts.org

# =============================================================================
# STRIPE BILLING (OPTIONAL)
# =============================================================================
# Set to true to enable billing features
STRIPE_ENABLED=false

# Stripe test keys (get from Stripe dashboard)
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# =============================================================================
# CORS SETTINGS
# =============================================================================
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8501,http://localhost:19006,exp://localhost:19000

# Comma-separated list of allowed hosts
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# =============================================================================
# ML MODELS
# =============================================================================
# Paths to ML model files (relative to backend directory)
YOLO_MODEL_PATH=./ml_models/yolov8n-seg.pt
CLASSIFIER_MODEL_PATH=./ml_models/food_classifier.onnx
CLASS_INDEX_PATH=./ml_models/class_index.json
DENSITY_PRIORS_PATH=./ml_models/density_priors.yaml

# =============================================================================
# FILE UPLOAD LIMITS
# =============================================================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Set to true for development, false for production
DEVELOPMENT_MODE=true

# Auto-reload on code changes (development only)
AUTO_RELOAD=true

# =============================================================================
# MONITORING
# =============================================================================
# Enable metrics collection
ENABLE_METRICS=false

# Health check interval (seconds)
HEALTH_CHECK_INTERVAL=30

# =============================================================================
# RATE LIMITING
# =============================================================================
# Rate limit requests per minute per user
RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# CACHING
# =============================================================================
# Cache TTL for food data (seconds)
FOOD_CACHE_TTL=604800  # 7 days

# Cache TTL for analysis results (seconds)
ANALYSIS_CACHE_TTL=3600  # 1 hour

# =============================================================================
# FEEDBACK AND ANALYTICS
# =============================================================================
# Enable user feedback collection
ENABLE_FEEDBACK=true

# Enable usage analytics
ENABLE_ANALYTICS=false

# =============================================================================
# PRIVACY AND GDPR
# =============================================================================
# Enable GDPR compliance features
GDPR_ENABLED=true

# Data retention period (days)
DATA_RETENTION_DAYS=365

# =============================================================================
# NOTIFICATIONS
# =============================================================================
# Enable email notifications
EMAIL_NOTIFICATIONS_ENABLED=false

# SMTP settings (if email notifications enabled)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================
# Enable automatic backups
AUTO_BACKUP_ENABLED=false

# Backup frequency (hours)
BACKUP_FREQUENCY_HOURS=24

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# =============================================================================
# NOTES
# =============================================================================
# 1. Never commit .env files to version control
# 2. Use strong, unique secrets in production
# 3. Regularly rotate API keys and secrets
# 4. Monitor environment variable usage
# 5. Use different values for development, staging, and production
